(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(28)},18:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(5),i=a.n(l),r=(a(18),a(6)),c=a(7),m=a(12),o=a(8),u=a(11),h=a(2),d=(a(21),a(23),function(e){return s.a.createElement("li",{className:"singleGame",key:e.index},s.a.createElement("img",{className:"photo",src:e.src,alt:"game"}),s.a.createElement("div",{className:"textInfo"},s.a.createElement("p",{className:"textInfo_title"}," ",e.title," "),s.a.createElement("p",{className:"textInfo_time"}," ",e.time," min "),s.a.createElement("p",{className:"textInfo_players"}," ",e.playersMin," - ",e.playersMax," players "),s.a.createElement("p",{className:"textInfo_numOfPlays"}," ",e.numOfPlays," "),s.a.createElement("div",{className:"textInfo_notSelected"},s.a.createElement("button",{className:"notSelected",onClick:e.onClick}," "))))}),p=function(e){return e.itemsFit.map(function(t,a){return s.a.createElement(d,{key:a,index:a,src:t.getElementsByTagName("image")[0].innerHTML,title:t.getElementsByTagName("name")[0].innerHTML,time:t.getElementsByTagName("stats")[0].getAttribute("playingtime"),playersMin:t.getElementsByTagName("stats")[0].getAttribute("minplayers"),playersMax:t.getElementsByTagName("stats")[0].getAttribute("maxplayers"),numOfPlays:0===parseInt(t.getElementsByTagName("numplays")[0].innerHTML)?"ouch, you didn't play this one":"Number of plays: "+t.getElementsByTagName("numplays")[0].innerHTML,onClick:e.onClick})})},y=a(3),g=a(9),b=a(10);y.b.add(b.a);var E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).state={itemsFit:[],itemsFitMutable:[],nick:"",players:"",time:"",totalTime:0},a.checkForSelection=a.checkForSelection.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"init",value:function(){this.setState({nick:"",players:"",time:"",totalTime:0,itemsFitMutable:[],itemsFit:[]}),document.querySelector(".buttonSection").style.display="none"}},{key:"handleChange",value:function(e){switch(e.target.className){case"inputs_nick":this.setState({nick:e.target.value});break;case"inputs_time":this.setState({time:e.target.value});break;case"inputs_players":this.setState({players:e.target.value})}}},{key:"handleClick",value:function(){var e=document.querySelector(".loader");e.style.display="flex";var t=new XMLHttpRequest;t.open("GET","https://www.boardgamegeek.com/xmlapi2/collection?username="+this.state.nick+"&stats=1&subtype=boardgame&own=1",!1),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(e.style.display="none")},t.send();for(var a=t.responseText,n=(new DOMParser).parseFromString(a,"text/xml").getElementsByTagName("item"),s=Array.from(n),l=[],i=0;i<=s.length-1;i++){var r=parseInt(this.state.time),c=parseInt(this.state.players),m=s[i].getElementsByTagName("stats")[0].getAttribute("playingtime"),o=s[i].getElementsByTagName("stats")[0].getAttribute("minplayers"),u=s[i].getElementsByTagName("stats")[0].getAttribute("maxplayers");r>=parseInt(m)&&c>=o&&c<=u&&l.push(s[i])}this.setState({itemsFitMutable:l,itemsFit:l});var h=document.querySelector(".buttonSection"),d=document.querySelector(".totalTime");h.style.display="flex",d.style.display="block",e.style.display="none"}},{key:"checkForSelection",value:function(e){var t=e.target.parentNode.parentNode,a=parseInt(t.querySelector(".textInfo_time").innerHTML);if("selected"===e.target.className){var n=parseInt(this.state.totalTime)-a;this.setState({totalTime:n}),e.target.classList.remove("selected"),e.target.classList.add("notSelected")}else{var s=parseInt(this.state.totalTime)+a;this.setState({totalTime:s}),e.target.classList.remove("notSelected"),e.target.classList.add("selected")}}},{key:"checkForNumOfPlays",value:function(e){for(var t=this.state.itemsFit,a=[],n=[],s=0;s<=t.length-1;s++){0===parseInt(t[s].getElementsByTagName("numplays")[0].innerHTML)?a.push(t[s]):n.push(t[s])}"buttonSection_played"===e.target.className?this.setState({itemsFitMutable:n}):this.setState({itemsFitMutable:a})}},{key:"randomGame",value:function(){var e=this.state.itemsFit.length,t=Math.floor(Math.random()*e),a=[];a.push(this.state.itemsFit[t]),this.setState({itemsFitMutable:a}),document.querySelector(".totalTime").style.display="none"}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"inputs"},s.a.createElement("h1",null," Who are you? "),s.a.createElement("input",{className:"inputs_nick",placeholder:"your nickname",value:this.state.nick,onChange:this.handleChange.bind(this)}),s.a.createElement("h1",null," How much time do we have? "),s.a.createElement("input",{className:"inputs_time",placeholder:"only numbers!",value:this.state.time,onChange:this.handleChange.bind(this)}),s.a.createElement("h1",null," How many people?"),s.a.createElement("input",{className:"inputs_players",placeholder:"type the number",value:this.state.players,onChange:this.handleChange.bind(this)}),s.a.createElement("div",{className:"inputs_button"},s.a.createElement("button",{className:"inputs_button_search",onClick:this.handleClick.bind(this)}," ",s.a.createElement(g.a,{icon:"search"})," "),s.a.createElement("button",{className:"inputs_button_clear",onClick:this.init.bind(this)}," x "))),s.a.createElement("div",{className:"loader"},s.a.createElement("div",{className:"loader_dot1"}),s.a.createElement("div",{className:"loader_dot2"}),s.a.createElement("div",{className:"loader_dot3"})),s.a.createElement("div",{className:"buttonSection"},s.a.createElement("h1",null,"Something new",s.a.createElement("button",{className:"buttonSection_notPlayed",onClick:this.checkForNumOfPlays.bind(this)},">")),s.a.createElement("h1",null,"Something what I know",s.a.createElement("button",{className:"buttonSection_played",onClick:this.checkForNumOfPlays.bind(this)},">")),s.a.createElement("h1",null," Something random ",s.a.createElement("button",{className:"buttonSection_random",onClick:this.randomGame.bind(this)},">"))),s.a.createElement("h1",{className:"totalTime"}," Total time: ",s.a.createElement("span",null,this.state.totalTime)," "),s.a.createElement("div",{className:"results"},s.a.createElement("ul",{className:"gameCollection"},s.a.createElement(p,{itemsFit:this.state.itemsFitMutable,onClick:this.checkForSelection}))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.a85b2940.chunk.js.map