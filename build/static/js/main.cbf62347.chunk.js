(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(26)},17:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(6),i=a.n(l),r=(a(17),a(7)),o=a(8),m=a(10),c=a(9),u=a(11),h=a(1),y=(a(20),a(22),function(e){return s.a.createElement("li",{className:"singleGame",key:e.index},s.a.createElement("img",{className:"photo",src:e.src,alt:"game"}),s.a.createElement("div",{className:"textInfo"},s.a.createElement("p",{className:"textInfo_title"}," ",e.title," "),s.a.createElement("p",{className:"textInfo_time"}," ",e.time," min "),s.a.createElement("p",{className:"textInfo_players"}," ",e.playersMin," - ",e.playersMax," players "),s.a.createElement("p",{className:"textInfo_numOfPlays"}," ",e.numOfPlays," "),s.a.createElement("div",{className:"textInfo_notSelected"},s.a.createElement("button",{className:"notSelected",onClick:e.onClick}," "))))}),p=function(e){return e.itemsFit.map(function(t,a){return s.a.createElement(y,{key:a,index:a,src:t.getElementsByTagName("image")[0].innerHTML,title:t.getElementsByTagName("name")[0].innerHTML,time:t.getElementsByTagName("stats")[0].getAttribute("playingtime"),playersMin:t.getElementsByTagName("stats")[0].getAttribute("minplayers"),playersMax:t.getElementsByTagName("stats")[0].getAttribute("maxplayers"),numOfPlays:0===parseInt(t.getElementsByTagName("numplays")[0].innerHTML)?"ouch, you didn't play this one":"Number of plays: "+t.getElementsByTagName("numplays")[0].innerHTML,onClick:e.onClick})})},d=a(3),g=a.n(d),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(m.a)(this,Object(c.a)(t).call(this,e))).state={itemsFit:[],itemsFitMutable:[],nick:"",players:"",time:"",totalTime:0},a.checkForSelection=a.checkForSelection.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"init",value:function(){this.setState({nick:"",players:"",time:"",totalTime:0,itemsFitMutable:[],itemsFit:[]});var e=document.querySelector(".buttonSection"),t=document.querySelector(".totalTime"),a=document.querySelector(".loader");e.style.display="none",a.style.display="none",t.style.display="none"}},{key:"handleChange",value:function(e){switch(e.target.className){case"inputs_nick":this.setState({nick:e.target.value});break;case"inputs_time":this.setState({time:e.target.value});break;case"inputs_players":this.setState({players:e.target.value})}}},{key:"createGameList",value:function(e){for(var t=e.getElementsByTagName("item"),a=Array.from(t),n=[],s=0;s<=a.length-1;s++){var l=parseInt(this.state.time),i=parseInt(this.state.players),r=a[s].getElementsByTagName("stats")[0].getAttribute("playingtime"),o=a[s].getElementsByTagName("stats")[0].getAttribute("minplayers"),m=a[s].getElementsByTagName("stats")[0].getAttribute("maxplayers");l>=parseInt(r)&&i>=o&&i<=m&&n.push(a[s])}this.setState({itemsFitMutable:n,itemsFit:n})}},{key:"handleClick",value:function(){var e=document.querySelector(".loader"),t=document.querySelector(".buttonSection"),a=document.querySelector(".totalTime");e.style.display="flex";var n=new XMLHttpRequest;if(n.open("GET","https://cors-anywhere.herokuapp.com/https://www.boardgamegeek.com/xmlapi2/collection?username="+this.state.nick+"&stats=1&subtype=boardgame&own=1",!1),n.onreadystatechange=function(){e.style.display="none"},n.send(),200===n.status){t.style.display="flex",a.style.display="block";var s=n.responseText,l=(new DOMParser).parseFromString(s,"text/xml");l.getElementsByTagName("message")[0]?(g()("oops..","Invalid username","error"),this.init()):l.getElementsByTagName("item")&&(e.style.display="none",this.createGameList(l))}else 200!==n.status&&(g()("Ooops..","Something went wrong, please try again","error"),t.style.display="none",a.style.display="none")}},{key:"checkForSelection",value:function(e){var t=e.target.parentNode.parentNode,a=parseInt(t.querySelector(".textInfo_time").innerHTML);if("selected"===e.target.className){var n=parseInt(this.state.totalTime)-a;this.setState({totalTime:n}),e.target.classList.remove("selected"),e.target.classList.add("notSelected")}else{var s=parseInt(this.state.totalTime)+a;this.setState({totalTime:s}),e.target.classList.remove("notSelected"),e.target.classList.add("selected")}}},{key:"checkForNumOfPlays",value:function(e){for(var t=this.state.itemsFit,a=[],n=[],s=0;s<=t.length-1;s++){0===parseInt(t[s].getElementsByTagName("numplays")[0].innerHTML)?a.push(t[s]):n.push(t[s])}"buttonSection_played"===e.target.className?this.setState({itemsFitMutable:n}):this.setState({itemsFitMutable:a})}},{key:"randomGame",value:function(){var e=this.state.itemsFit.length,t=Math.floor(Math.random()*e),a=[];a.push(this.state.itemsFit[t]),this.setState({itemsFitMutable:a}),document.querySelector(".totalTime").style.display="none"}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"inputs"},s.a.createElement("h1",null," Who are you? "),s.a.createElement("input",{className:"inputs_nick",placeholder:"your nickname",value:this.state.nick,onChange:this.handleChange.bind(this)}),s.a.createElement("h1",null," How much time do we have? "),s.a.createElement("input",{className:"inputs_time",placeholder:"only numbers!",value:this.state.time,onChange:this.handleChange.bind(this)}),s.a.createElement("h1",null," How many people?"),s.a.createElement("input",{className:"inputs_players",placeholder:"type the number",value:this.state.players,onChange:this.handleChange.bind(this)}),s.a.createElement("div",{className:"inputs_button"},s.a.createElement("button",{className:"inputs_button_search",onClick:this.handleClick.bind(this)}," go "),s.a.createElement("button",{className:"inputs_button_clear",onClick:this.init.bind(this)}," clear "))),s.a.createElement("div",{className:"loader"},s.a.createElement("div",{className:"loader_dot1"}),s.a.createElement("div",{className:"loader_dot2"}),s.a.createElement("div",{className:"loader_dot3"})),s.a.createElement("div",{className:"buttonSection"},s.a.createElement("h1",null,"Something new",s.a.createElement("button",{className:"buttonSection_notPlayed",onClick:this.checkForNumOfPlays.bind(this)},">")),s.a.createElement("h1",null,"Something what I know",s.a.createElement("button",{className:"buttonSection_played",onClick:this.checkForNumOfPlays.bind(this)},">")),s.a.createElement("h1",null," Something random ",s.a.createElement("button",{className:"buttonSection_random",onClick:this.randomGame.bind(this)},">"))),s.a.createElement("h1",{className:"totalTime"}," Total time: ",s.a.createElement("span",null,this.state.totalTime)," "),s.a.createElement("div",{className:"results"},s.a.createElement("ul",{className:"gameCollection"},s.a.createElement(p,{itemsFit:this.state.itemsFitMutable,onClick:this.checkForSelection}))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.cbf62347.chunk.js.map